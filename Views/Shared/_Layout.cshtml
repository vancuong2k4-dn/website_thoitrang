<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @*<link rel="icon" type="image/png" href="~/Content/Images/logo.png">*@
    <link rel="shortcut icon" type="image/x-icon" href="~/Content/Images/favicon.ico">
    <link href="~/Content/Site.css" rel="stylesheet" />
    <link href="~/Content/grid.css" rel="stylesheet" />
    <link href="~/Content/base.css" rel="stylesheet" />
    <link href="~/Content/responsive.css" rel="stylesheet" />
    <link href="~/Content/main.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        .navbar {
            padding: 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .top-bar {
            background: #f6f3e4;
        }

        .top-nav {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 20px;
            padding: 5px 0;
        }

            .top-nav ul {
                display: flex;
                align-items: center;
                margin: 0;
                padding: 0;
                list-style: none;
            }

                .top-nav ul li a {
                    color: #333;
                    text-decoration: none;
                    font-size: 14px;
                    position: relative;
                    padding-bottom: 2px;
                }

            .top-nav li a::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                width: 0;
                height: 1px; /* Border mỏng hơn cho top nav */
                background-color: #333;
                transition: width 0.3s ease;
            }

            .top-nav li a:hover::after {
                width: 100%;
            }

        .main-nav {
            background-color: #f6f3e4;
        }

            .main-nav .container {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

        .logo {
            font-size: 24px;
        }

        .navbar-nav {
            display: flex;
            gap: 30px;
            margin: 0;
            padding: 0;
            list-style: none;
        }

            .navbar-nav li a {
                color: #333;
                text-decoration: none;
                font-weight: bold;
                text-transform: uppercase;
                font-size: 13px;
                position: relative; /* Thêm position relative để làm mốc cho pseudo-element */
                padding-bottom: 5px; /* Thêm padding để tạo khoảng cách cho border */
            }

                .navbar-nav li a::after {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    width: 0;
                    height: 2px;
                    background-color: #333;
                    transition: width 0.3s ease; /* Thêm transition cho hiệu ứng mượt mà */
                }

                .navbar-nav li a:hover::after {
                    width: 100%;
                }

        /* Style cho language selector */
        .top-nav ul li:nth-child(3) a { /* VN | EN */
            padding: 0 5px;
        }

        .search-icon, .cart-icon {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .navbar-brand-custom {
            color: #333;
            text-decoration: none;
            font-weight: bold;
            padding: 0;
        }

        .logo img {
            height: 60px; /* Điều chỉnh chiều cao logo phù hợp */
            width: auto;
            display: block;
        }

        .logo a {
            display: inline-block;
            text-decoration: none;
        }

        .search-form {
            position: absolute;
            right: 36px;
            background: white;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-radius: 4px;
            background-color: #444;
            width: 300px;
            display: none;
            z-index: 1;
            transition: width .2s ease-in-out;
        }

        .search-input {
            width: 100%;
            padding: 8px 40px 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            outline: none;
            background-color: #444;
            color: white;
        }

            .search-input:focus {
                border-color: #666;
            }

        .search-btn {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
        }

            .search-btn:hover {
                color: #333;
            }

        /* Policy Section */
        .policy-section {
            background-color: #333;
            color: white;
            padding: 20px 0;
        }

        .policy-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-right: 1px solid rgba(246, 243, 228, .1);
        }

        .policy-icon {
            font-size: 24px;
            margin-right: 15px;
        }

        .policy-content h4 {
            font-size: 14px;
            margin: 0;
            font-weight: 600;
        }

        .policy-content p {
            font-size: 12px;
            margin: 5px 0 0;
            color: rgba(255,255,255,0.8);
        }

        /* Main Footer */
        .footer-content {
            background-color: #f8f8f8;
            padding: 50px 0;
        }

            .footer-content h3 {
                font-size: 16px;
                margin-bottom: 20px;
                color: #333;
            }

        .footer-links {
            list-style: none;
            padding: 0;
        }

            .footer-links li {
                margin-bottom: 10px;
            }

            .footer-links a {
                color: #666;
                text-decoration: none;
                font-size: 14px;
            }

                .footer-links a:hover {
                    color: #333;
                }

        /* Social Media */
        .footer-social {
            text-align: right;
        }

        .social-icons {
            margin-bottom: 20px;
        }

            .social-icons a {
                color: #333;
                font-size: 20px;
                margin-left: 15px;
            }

        .verified-badge img {
            max-width: 150px;
        }

        /* Copyright */
        .footer-bottom {
            background-color: #f8f8f8;
            padding: 15px 0;
            text-align: center;
            font-size: 12px;
            color: #666;
            border-top: 1px solid #eee;
        }

        .nav-item {
            border-right: 1px solid #ccc;
            padding: 0 15px;
        }

            .nav-item:last-child {
                border-right: none;
            }

        .logout-btn {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }

            .logout-btn:hover {
                color: #ddd;
            }

        .dropdown-menu {
            display: none !important;
            position: absolute;
            background-color: white;
            min-width: 200px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-radius: 4px;
            z-index: 1000;
        }

            .dropdown-menu.show {
                display: block;
            }

        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            color: #333;
            text-decoration: none;
            transition: background-color 0.3s;
        }

            .dropdown-item:hover {
                background-color: #f8f9fa;
            }

        .dropdown-menu > li > a {
            padding: 16px 20px !important;
        }

            .dropdown-menu > li > a > i {
                margin-right: 8px;
            }

        .nav-item.dropdown {
            position: relative;
        }

        .dropdown-toggle {
            cursor: pointer;
        }

            .dropdown-toggle::after {
                display: inline-block;
                margin-left: 5px;
                vertical-align: middle;
                content: "";
                border-top: 4px solid;
                border-right: 4px solid transparent;
                border-left: 4px solid transparent;
            }
    </style>
    <title>@ViewBag.Title - SIXDO</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body onload="getGioHangPartial();" style="background-color: #f6f3e4 !important;">
    <div class="navbar navbar-fixed-top">
        <div class="top-bar">
            <div class="container" style="display: flex; justify-content: flex-end; align-items: center;">
                <div class="top-nav">
                    <ul>
                        @if (Session["TaiKhoan"] != null)
                        {
                            var khachHang = (LTW.Models.KhachHang)Session["TaiKhoan"];
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-user"></i> @khachHang.TenKhachHang
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="@Url.Action("ThongTinCaNhan", "NguoiDung")">
                                            <i class="fas fa-user-circle me-2"></i>Thông tin cá nhân
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="@Url.Action("LichSuDonHang", "NguoiDung")">
                                            <i class="fas fa-history me-2"></i>Lịch sử đơn hàng
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("DangXuat", "NguoiDung")" class="logout-btn">
                                    <i class="fas fa-sign-out-alt"></i> Đăng xuất
                                </a>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item">
                                @Html.ActionLink("LOGIN", "DangNhap", "NguoiDung")
                            </li>
                        }
                        <li class="nav-item">
                            <a href="#" class="search-icon" onclick="toggleSearch(event)">
                                <i class="fas fa-search"></i> Tìm kiếm
                            </a>
                            <div class="search-form" style="display: none;">
                                @using (Html.BeginForm("ListSanPham", "SanPham", FormMethod.Get, new { @class = "form-inline" }))
                                {
                                    <input type="Text" class="search-input" name="searchString"
                                           value="@ViewBag.Keyword" placeholder="Nhập từ khóa tìm kiếm">
                                    <button type="submit" class="search-btn">
                                        <i class="fas fa-search"></i>
                                    </button>
                                }
                            </div>
                        </li>
                        <li class="nav-item">
                            <a href="#">VN</a> | <a href="#">EN</a>
                        </li>
                        <li id="GioHangPartial" class="nav-item">
                            <a href="@Url.Action("Index", "GioHang")" style="color: white; text-decoration: none;">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="main-nav">
            <div class="container">
                <div class="logo">
                    <a href="@Url.Action("Index", "Home")">
                        <img src="~/Content/images/logo.png" alt="SIXDO Logo" class="navbar-brand-custom" />
                    </a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li>@Html.ActionLink("Trang chủ", "Index", "Home")</li>
                        <li>@Html.ActionLink("Sản phẩm", "ListSanPham", "SanPham")</li>
                        <li>@Html.ActionLink("Danh mục", "ListLoai", "Loai")</li>
                        <li>@Html.ActionLink("Thương hiệu", "ListNhaCungCap", "NhaCungCap")</li>
                        <li>@Html.ActionLink("Yêu thích", "DanhSachYeuThich", "SanPham")</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="mainContent" class="container body-content" style="background-color: #f6f3e4; margin-top: 120px;">
        @RenderBody()
        <hr />
    </div>

    <!-- Footer -->
    <footer>
        <!-- Policy Section -->
        <div class="policy-section">
            <div class="container">
                <div class="row">
                    <div class="col l-3 m-6 c-12 policy-item">
                        <div class="policy-icon">
                            <i class="fas fa-sync"></i>
                        </div>
                        <div class="policy-content">
                            <h4>6 NGÀY ĐỔI SẢN PHẨM</h4>
                            <p>Đổi sản phẩm trong 6 ngày</p>
                        </div>
                    </div>
                    <div class="col l-3 m-6 c-12 policy-item">
                        <div class="policy-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="policy-content">
                            <h4>HOTLINE 1800 6650</h4>
                            <p>Hành Chính 8h00 - 17h00, T2 - CN nghỉ Tết Âm lịch</p>
                        </div>
                    </div>
                    <div class="col l-3 m-6 c-12 policy-item">
                        <div class="policy-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <div class="policy-content">
                            <h4>HỆ THỐNG CỬA HÀNG</h4>
                            <p>65 cửa hàng trên toàn hệ thống</p>
                        </div>
                    </div>
                    <div class="col l-3 m-6 c-12 policy-item">
                        <div class="policy-icon">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="policy-content">
                            <h4>VẬN CHUYỂN</h4>
                            <p>Đồng giá 25K toàn quốc</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Footer -->
        <div class="footer-content">
            <div class="container">
                <div class="row">
                    <!-- Product Links -->
                    <div class="col l-3 m-6 c-12">
                        <h3>SẢN PHẨM</h3>
                        <ul class="footer-links">
                            <li><a href="#">SẢN PHẨM MỚI</a></li>
                            <li><a href="#">SẢN PHẨM GIẢM GIÁ</a></li>
                            <li><a href="#">PHỤ KIỆN</a></li>
                            <li><a href="#">BỘ SƯU TẬP</a></li>
                            <li><a href="#">TRÌNH DIỄN THỜI TRANG</a></li>
                        </ul>
                    </div>

                    <!-- Policies -->
                    <div class="col l-6 m-6 c-12">
                        <div class="footer-center">
                            <h3>CHÍNH SÁCH MUA SẮM</h3>
                            <ul class="footer-links">
                                <li><a href="#">SIXCLUB</a></li>
                                <li><a href="#">CÂU CHUYỆN THƯƠNG HIỆU</a></li>
                                <li><a href="#">HỆ THỐNG CỬA HÀNG</a></li>
                                <li><a href="#">TIN TỨC SIXDO</a></li>
                                <li><a href="#">TUYỂN DỤNG</a></li>
                                <li><a href="#">LIÊN HỆ</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Social Media -->
                    <div class="col l-3 m-6 c-12">
                        <div class="footer-social">
                            <div class="social-icons">
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                                <a href="#"><i class="fab fa-youtube"></i></a>
                                <a href="#"><i class="fab fa-tiktok"></i></a>
                                <a href="#"><i class="fab fa-shopify"></i></a>
                                <a href="#"><i class="fab fa-line"></i></a>
                            </div>
                            <div class="verified-badge">
                                <img src="~/Content/images/verified-badge.svg" alt="Verified Badge" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Copyright -->
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; @DateTime.Now.Year SIXDO.vn</p>
            </div>
        </div>
    </footer>

    <script type="text/javascript">
        function getGioHangPartial() {
            $.ajax({
                type: 'GET',
                url: "@Url.Action("GioHangPartial", "GioHang")",
                success: function (result) {
                    $("#GioHangPartial").html(result);
                }
            });
        }
    </script>
    <script>
        function toggleSearch(event) {
            event.preventDefault();
            const searchForm = document.querySelector('.search-form');
            const isHidden = searchForm.style.display === 'none';

            searchForm.style.display = isHidden ? 'block' : 'none';

            // Tự động focus vào input khi hiện form
            if (isHidden) {
                searchForm.querySelector('.search-input').focus();
            }
        }

        // Ẩn form tìm kiếm khi click ra ngoài
        document.addEventListener('click', function (event) {
            const searchForm = document.querySelector('.search-form');
            const searchIcon = document.querySelector('.search-icon');

            if (!searchForm.contains(event.target) && !searchIcon.contains(event.target)) {
                searchForm.style.display = 'none';
            }
        });
    </script>
    <script src="https://kit.fontawesome.com/402a0eb5a6.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    @RenderSection("upload", required: false)
</body>

<script>
    // Xử lý dropdown
    document.addEventListener('DOMContentLoaded', function () {
        var dropdowns = document.querySelectorAll('.nav-item.dropdown');

        dropdowns.forEach(function (dropdown) {
            // Mở dropdown khi hover
            dropdown.addEventListener('mouseenter', function () {
                this.querySelector('.dropdown-menu').classList.add('show');
            });

            // Đóng dropdown khi di chuột ra ngoài
            dropdown.addEventListener('mouseleave', function () {
                this.querySelector('.dropdown-menu').classList.remove('show');
            });

            // Xử lý click cho mobile
            dropdown.querySelector('.dropdown-toggle').addEventListener('click', function (e) {
                e.preventDefault();
                var menu = this.nextElementSibling;
                menu.classList.toggle('show');
            });
        });

        // Đóng dropdown khi click ra ngoài
        document.addEventListener('click', function (e) {
            if (!e.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown-menu.show').forEach(function (menu) {
                    menu.classList.remove('show');
                });
            }
        });
    });
</script>

</html>
